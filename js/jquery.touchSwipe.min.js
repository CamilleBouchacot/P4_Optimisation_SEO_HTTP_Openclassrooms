function init(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=NONE),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=$.extend({},$.fn.swipe.defaults,e),this.each(function(){var n=$(this),t=n.data(PLUGIN_NS);t||(t=new TouchSwipe(this,e),n.data(PLUGIN_NS,t))})}function TouchSwipe(e,n){function t(e){if(!(M()||$(e.target).closest(n.excludedElements,Oe).length>0)){var t=e.originalEvent?e.originalEvent:e;if(!t.pointerType||"mouse"!=t.pointerType||0!=n.fallbackToMouseEvents){var r,i=t.touches,l=i?i[0]:t;return Ne=PHASE_START,i?Ae=i.length:!1!==n.preventDefaultEvents&&e.preventDefault(),se=0,Ee=null,pe=null,de=null,Te=0,fe=0,he=0,Pe=1,Se=0,ge=B(),m(),F(0,l),!i||Ae===n.fingers||n.fingers===ALL_FINGERS||S()?(we=ee(),2==Ae&&(F(1,i[1]),fe=he=Y(_e[0].start,_e[1].start)),(n.swipeStatus||n.pinchStatus)&&(r=c(t,Ne))):r=!1,!1===r?(Ne=PHASE_CANCEL,c(t,Ne),r):(n.hold&&(Ue=setTimeout($.proxy(function(){Oe.trigger("hold",[t.target]),n.hold&&(r=n.hold.call(Oe,t,t.target))},this),n.longTapThreshold)),G(!0),null)}}}function r(e){var t=e.originalEvent?e.originalEvent:e;if(Ne!==PHASE_END&&Ne!==PHASE_CANCEL&&!x()){var r,i=t.touches,l=i?i[0]:t,o=V(l);if(ve=ee(),i&&(Ae=i.length),n.hold&&clearTimeout(Ue),Ne=PHASE_MOVE,2==Ae&&(0==fe?(F(1,i[1]),fe=he=Y(_e[0].start,_e[1].start)):(V(i[1]),he=Y(_e[0].end,_e[1].end),de=q(_e[0].end,_e[1].end)),Pe=Q(fe,he),Se=Math.abs(fe-he)),Ae===n.fingers||n.fingers===ALL_FINGERS||!i||S()){if(Ee=K(o.start,o.end),pe=K(o.last,o.end),h(e,pe),se=z(o.start,o.end),Te=X(),W(Ee,se),r=c(t,Ne),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var u=!0;if(n.triggerOnTouchLeave){var s=ne(this);u=te(o.end,s)}!n.triggerOnTouchEnd&&u?Ne=a(PHASE_MOVE):n.triggerOnTouchLeave&&!u&&(Ne=a(PHASE_END)),Ne!=PHASE_CANCEL&&Ne!=PHASE_END||c(t,Ne)}}else Ne=PHASE_CANCEL,c(t,Ne);!1===r&&(Ne=PHASE_CANCEL,c(t,Ne))}}function i(e){var t=e.originalEvent?e.originalEvent:e,r=t.touches;if(r){if(r.length&&!x())return y(t),!0;if(r.length&&x())return!0}return x()&&(Ae=He),ve=ee(),Te=X(),p()||!E()?(Ne=PHASE_CANCEL,c(t,Ne)):n.triggerOnTouchEnd||!1===n.triggerOnTouchEnd&&Ne===PHASE_MOVE?(!1!==n.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),Ne=PHASE_END,c(t,Ne)):!n.triggerOnTouchEnd&&w()?(Ne=PHASE_END,s(t,Ne,TAP)):Ne===PHASE_MOVE&&(Ne=PHASE_CANCEL,c(t,Ne)),G(!1),null}function l(){Ae=0,ve=0,we=0,fe=0,he=0,Pe=1,m(),G(!1)}function o(e){var t=e.originalEvent?e.originalEvent:e;n.triggerOnTouchLeave&&(Ne=a(PHASE_END),c(t,Ne))}function u(){Oe.unbind(le,t),Oe.unbind(ce,l),Oe.unbind(oe,r),Oe.unbind(ue,i),ae&&Oe.unbind(ae,o),G(!1)}function a(e){var t=e,r=f(),i=E(),l=p();return!r||l?t=PHASE_CANCEL:!i||e!=PHASE_MOVE||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!i&&e==PHASE_END&&n.triggerOnTouchLeave&&(t=PHASE_CANCEL):t=PHASE_END,t}function c(e,n){var t,r=e.touches;return(N()||O())&&(t=s(e,n,SWIPE)),(d()||S())&&!1!==t&&(t=s(e,n,PINCH)),D()&&!1!==t?t=s(e,n,DOUBLE_TAP):C()&&!1!==t?t=s(e,n,LONG_TAP):b()&&!1!==t&&(t=s(e,n,TAP)),n===PHASE_CANCEL&&l(e),n===PHASE_END&&(r&&r.length||l(e)),t}function s(e,t,r){var i;if(r==SWIPE){if(Oe.trigger("swipeStatus",[t,Ee||null,se||0,Te||0,Ae,_e,pe]),n.swipeStatus&&(i=n.swipeStatus.call(Oe,e,t,Ee||null,se||0,Te||0,Ae,_e,pe),!1===i))return!1;if(t==PHASE_END&&g()){if(clearTimeout(Ie),clearTimeout(Ue),Oe.trigger("swipe",[Ee,se,Te,Ae,_e,pe]),n.swipe&&(i=n.swipe.call(Oe,e,Ee,se,Te,Ae,_e,pe),!1===i))return!1;switch(Ee){case LEFT:Oe.trigger("swipeLeft",[Ee,se,Te,Ae,_e,pe]),n.swipeLeft&&(i=n.swipeLeft.call(Oe,e,Ee,se,Te,Ae,_e,pe));break;case RIGHT:Oe.trigger("swipeRight",[Ee,se,Te,Ae,_e,pe]),n.swipeRight&&(i=n.swipeRight.call(Oe,e,Ee,se,Te,Ae,_e,pe));break;case UP:Oe.trigger("swipeUp",[Ee,se,Te,Ae,_e,pe]),n.swipeUp&&(i=n.swipeUp.call(Oe,e,Ee,se,Te,Ae,_e,pe));break;case DOWN:Oe.trigger("swipeDown",[Ee,se,Te,Ae,_e,pe]),n.swipeDown&&(i=n.swipeDown.call(Oe,e,Ee,se,Te,Ae,_e,pe))}}}if(r==PINCH){if(Oe.trigger("pinchStatus",[t,de||null,Se||0,Te||0,Ae,Pe,_e]),n.pinchStatus&&(i=n.pinchStatus.call(Oe,e,t,de||null,Se||0,Te||0,Ae,Pe,_e),!1===i))return!1;if(t==PHASE_END&&P())switch(de){case IN:Oe.trigger("pinchIn",[de||null,Se||0,Te||0,Ae,Pe,_e]),n.pinchIn&&(i=n.pinchIn.call(Oe,e,de||null,Se||0,Te||0,Ae,Pe,_e));break;case OUT:Oe.trigger("pinchOut",[de||null,Se||0,Te||0,Ae,Pe,_e]),n.pinchOut&&(i=n.pinchOut.call(Oe,e,de||null,Se||0,Te||0,Ae,Pe,_e))}}return r==TAP?t!==PHASE_CANCEL&&t!==PHASE_END||(clearTimeout(Ie),clearTimeout(Ue),v()&&!R()?(Re=ee(),Ie=setTimeout($.proxy(function(){Re=null,Oe.trigger("tap",[e.target]),n.tap&&(i=n.tap.call(Oe,e,e.target))},this),n.doubleTapThreshold)):(Re=null,Oe.trigger("tap",[e.target]),n.tap&&(i=n.tap.call(Oe,e,e.target)))):r==DOUBLE_TAP?t!==PHASE_CANCEL&&t!==PHASE_END||(clearTimeout(Ie),clearTimeout(Ue),Re=null,Oe.trigger("doubletap",[e.target]),n.doubleTap&&(i=n.doubleTap.call(Oe,e,e.target))):r==LONG_TAP&&(t!==PHASE_CANCEL&&t!==PHASE_END||(clearTimeout(Ie),Re=null,Oe.trigger("longtap",[e.target]),n.longTap&&(i=n.longTap.call(Oe,e,e.target)))),i}function E(){var e=!0;return null!==n.threshold&&(e=se>=n.threshold),e}function p(){var e=!1;return null!==n.cancelThreshold&&null!==Ee&&(e=j(Ee)-se>=n.cancelThreshold),e}function T(){return null===n.pinchThreshold||Se>=n.pinchThreshold}function f(){return!(n.maxTimeThreshold&&Te>=n.maxTimeThreshold)}function h(e,t){if(!1!==n.preventDefaultEvents)if(n.allowPageScroll===NONE)e.preventDefault();else{var r=n.allowPageScroll===AUTO;switch(t){case LEFT:(n.swipeLeft&&r||!r&&n.allowPageScroll!=HORIZONTAL)&&e.preventDefault();break;case RIGHT:(n.swipeRight&&r||!r&&n.allowPageScroll!=HORIZONTAL)&&e.preventDefault();break;case UP:(n.swipeUp&&r||!r&&n.allowPageScroll!=VERTICAL)&&e.preventDefault();break;case DOWN:(n.swipeDown&&r||!r&&n.allowPageScroll!=VERTICAL)&&e.preventDefault()}}}function P(){var e=A(),n=_(),t=T();return e&&n&&t}function S(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function d(){return!(!P()||!S())}function g(){var e=f(),n=E(),t=A(),r=_(),i=p(),l=!i&&r&&t&&n&&e;return l}function O(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function N(){return!(!g()||!O())}function A(){return Ae===n.fingers||n.fingers===ALL_FINGERS||!SUPPORTS_TOUCH}function _(){return 0!==_e[0].end.x}function w(){return!!n.tap}function v(){return!!n.doubleTap}function L(){return!!n.longTap}function H(){if(null==Re)return!1;var e=ee();return v()&&e-Re<=n.doubleTapThreshold}function R(){return H()}function I(){return(1===Ae||!SUPPORTS_TOUCH)&&(isNaN(se)||se<n.threshold)}function U(){return Te>n.longTapThreshold&&se<DOUBLE_TAP_THRESHOLD}function b(){return!(!I()||!w())}function D(){return!(!H()||!v())}function C(){return!(!U()||!L())}function y(e){Le=ee(),He=e.touches.length+1}function m(){Le=0,He=0}function x(){var e=!1;if(Le){var t=ee()-Le;t<=n.fingerReleaseThreshold&&(e=!0)}return e}function M(){return!(!0!==Oe.data(PLUGIN_NS+"_intouch"))}function G(e){Oe&&(!0===e?(Oe.bind(oe,r),Oe.bind(ue,i),ae&&Oe.bind(ae,o)):(Oe.unbind(oe,r,!1),Oe.unbind(ue,i,!1),ae&&Oe.unbind(ae,o,!1)),Oe.data(PLUGIN_NS+"_intouch",!0===e))}function F(e,n){var t={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return t.start.x=t.last.x=t.end.x=n.pageX||n.clientX,t.start.y=t.last.y=t.end.y=n.pageY||n.clientY,_e[e]=t,t}function V(e){var n=void 0!==e.identifier?e.identifier:0,t=k(n);return null===t&&(t=F(n,e)),t.last.x=t.end.x,t.last.y=t.end.y,t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function k(e){return _e[e]||null}function W(e,n){e!=NONE&&(n=Math.max(n,j(e)),ge[e].distance=n)}function j(e){if(ge[e])return ge[e].distance}function B(){var e={};return e[LEFT]=Z(LEFT),e[RIGHT]=Z(RIGHT),e[UP]=Z(UP),e[DOWN]=Z(DOWN),e}function Z(e){return{direction:e,distance:0}}function X(){return ve-we}function Y(e,n){var t=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+r*r))}function Q(e,n){var t=n/e*1;return t.toFixed(2)}function q(){return Pe<1?OUT:IN}function z(e,n){return Math.round(Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))}function J(e,n){var t=e.x-n.x,r=n.y-e.y,i=Math.atan2(r,t),l=Math.round(180*i/Math.PI);return l<0&&(l=360-Math.abs(l)),l}function K(e,n){if(re(e,n))return NONE;var t=J(e,n);return t<=45&&t>=0?LEFT:t<=360&&t>=315?LEFT:t>=135&&t<=225?RIGHT:t>45&&t<135?DOWN:UP}function ee(){var e=new Date;return e.getTime()}function ne(e){e=$(e);var n=e.offset(),t={left:n.left,right:n.left+e.outerWidth(),top:n.top,bottom:n.top+e.outerHeight()};return t}function te(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}function re(e,n){return e.x==n.x&&e.y==n.y}n=$.extend({},n);var ie=SUPPORTS_TOUCH||SUPPORTS_POINTER||!n.fallbackToMouseEvents,le=ie?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerDown":"pointerdown":"touchstart":"mousedown",oe=ie?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerMove":"pointermove":"touchmove":"mousemove",ue=ie?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerUp":"pointerup":"touchend":"mouseup",ae=ie?SUPPORTS_POINTER?"mouseleave":null:"mouseleave",ce=SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerCancel":"pointercancel":"touchcancel",se=0,Ee=null,pe=null,Te=0,fe=0,he=0,Pe=1,Se=0,de=0,ge=null,Oe=$(e),Ne="start",Ae=0,_e={},we=0,ve=0,Le=0,He=0,Re=0,Ie=null,Ue=null;try{Oe.bind(le,t),Oe.bind(ce,l)}catch(e){$.error("events not supported "+le+","+ce+" on jQuery.swipe")}this.enable=function(){return this.disable(),Oe.bind(le,t),Oe.bind(ce,l),Oe},this.disable=function(){return u(),Oe},this.destroy=function(){u(),Oe.data(PLUGIN_NS,null),Oe=null},this.option=function(e,t){if("object"==typeof e)n=$.extend(n,e);else if(void 0!==n[e]){if(void 0===t)return n[e];n[e]=t}else{if(!e)return n;$.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var VERSION="1.6.18",LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH="ontouchstart"in window,SUPPORTS_POINTER_IE10=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!SUPPORTS_TOUCH,SUPPORTS_POINTER=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!SUPPORTS_TOUCH,PLUGIN_NS="TouchSwipe",defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};$.fn.swipe=function(e){var n=$(this),t=n.data(PLUGIN_NS);if(t&&"string"==typeof e){if(t[e])return t[e].apply(t,Array.prototype.slice.call(arguments,1));$.error("Method "+e+" does not exist on jQuery.swipe")}else if(t&&"object"==typeof e)t.option.apply(t,arguments);else if(!(t||"object"!=typeof e&&e))return init.apply(this,arguments);return n},$.fn.swipe.version=VERSION,$.fn.swipe.defaults=defaults,$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL},$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT},$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO},$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:ALL_FINGERS};